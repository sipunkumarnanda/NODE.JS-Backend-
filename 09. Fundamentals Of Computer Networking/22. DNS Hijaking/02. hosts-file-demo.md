

# DNS Hijacking — Notes & Quick Reference (with example) 🧭🔐

---

## 1. Short definition ✅

**DNS hijacking** — altering the normal mapping of a domain name to an IP address so clients receive an unexpected IP (accident, misconfiguration, or malicious). Outcome: users reach a different server than intended (phishing, interception, content manipulation, tracking, or broken access). 🌐➡️🧩

---

## 2. Hosts‑file example — mapping `facebook.com` to a local server 🏠🖥️

**Safe demo recommendation:** use `127.0.0.1` (localhost) so requests never leave the machine.

**Copyable hosts-file entries (Windows path: `C:\Windows\System32\drivers\etc\hosts`):**

```
# Safe demo — map facebook.com to localhost (no external traffic)
127.0.0.1    facebook.com
127.0.0.1    www.facebook.com

# Example mapping to a lab machine on a private LAN
192.168.0.10    facebook.com
192.168.0.10    www.facebook.com
```

**Notes:**

* Editing the hosts file requires administrator privileges. ✍️🔑
* To undo, remove those lines or restore the original file. ♻️
* Prefer `127.0.0.1` for demos so you don’t accidentally intercept real traffic. 🛡️

---

## 3. What to expect when you use the example 🔎

* `http://facebook.com` will typically go to your local web server (if one is running on port 80), showing your test page. ✅
* `https://facebook.com` will usually fail or show a certificate warning because your local server won’t present a valid Facebook TLS certificate. 🔐⚠️
* If the browser uses DoH or has a cached TLS session, it might still reach the real Facebook site — check browser resolver settings and clear caches if doing a demo. 🧭♻️

---

## 4. Gotchas & safety reminders ⚠️

* **Leading-zero IPs:** avoid `192.168.0.010` — leading zeros can be parsed as octal. Use plain decimal. 0️⃣➕
* **Ethics:** don’t test this against systems you don’t own or without explicit permission. Unauthorized redirection is harmful and may be illegal. ✋🚫
* **Revert:** always remove demo entries after testing and reboot or flush caches as needed. 🔁

---

## 5. Quick copyable slide blurb ✍️

**Example:** Add `127.0.0.1 facebook.com` and `127.0.0.1 www.facebook.com` to the hosts file to demonstrate local hostname override. Expect HTTP to show your local page; expect HTTPS to show certificate errors unless you use a valid cert (don’t attempt to use someone else’s cert). Use VMs and isolate the lab. 🧪🔒

---