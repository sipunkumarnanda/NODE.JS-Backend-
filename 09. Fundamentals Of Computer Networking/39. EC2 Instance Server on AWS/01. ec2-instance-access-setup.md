

# 🚀 EC2 Instance Server on AWS — IAM User, Group & Access Setup Guide

This guide explains how to **create an IAM group**, **add a user** to it, **grant EC2 full access**, and **log in as that IAM user instead of the root account** — all step by step with clear explanations and emojis for better understanding. ✨

---

## ☁️ 1. What is EC2?

**Amazon EC2 (Elastic Compute Cloud)** is a service that lets you create and manage **virtual servers** (instances) in the AWS Cloud.
You can use EC2 to host websites, apps, or any service that runs on a computer — but **you should never manage EC2 using your root AWS account**. Instead, use IAM (Identity and Access Management).

---

## 🧩 2. Why use IAM instead of root?

Your **root account** has full access to everything — deleting data, billing, shutting down services, etc.
To keep your account safe:
✅ Use the **root account only for initial setup**
✅ Create **IAM users and groups** for daily tasks
✅ Give permissions only as needed

---

## 👥 3. Step 1 — Create a user group

1. **Log in** to the AWS Management Console using your **root account**.
2. In the search bar, type **IAM** → click **IAM (Identity and Access Management)**.
3. On the left panel, click **User groups** → **Create group**.
4. Enter a group name — for example:

   ```
   EC2Admins
   ```
5. In the **Attach permissions policies** section, search for:

   ```
   AmazonEC2FullAccess
   ```
6. ✅ Check the box next to **AmazonEC2FullAccess**.
7. Click **Create group**.

**🎯 You’ve now created a group (EC2Admins) with full access only to EC2 services.**

---

## 👤 4. Step 2 — Create a user and add to that group

1. In the IAM dashboard, click **Users** → **Create user**.
2. Enter a username, for example:

   ```
   ec2-user
   ```
3. Check **Provide user access to the AWS Management Console**.
4. Choose **Autogenerated password** (or create one yourself).
5. Optionally, uncheck *User must create a new password at next sign-in* (for testing).
6. Click **Next**.
7. On the next screen, **Add user to group** → select the group you created earlier (`EC2Admins`).
8. Click **Next**, then **Create user**.

**✅ A new IAM user is created and linked to your EC2Admins group.**

---

## 📩 5. Step 3 — Sign in as the new IAM user

After creating the user, AWS will show a **console sign-in link** like this:

```
https://<your-account-id>.signin.aws.amazon.com/console
```

1. Copy this link — this is your IAM login URL.
2. Log out from the root account.
3. Paste the link in your browser.
4. Enter:

   * **Account ID** (or alias)
   * **IAM username** (`ec2-user`)
   * **Password**
5. Click **Sign In**.

🎉 Now you are logged in as the **IAM user**, not the root account!

---

## 🖥️ 6. Step 4 — Verify EC2 permissions

Once logged in as the IAM user:

1. Open the **EC2 Dashboard** from the AWS console.
2. Try creating or managing an instance — you’ll see you have full access to EC2.
3. Try opening another service (like S3 or RDS).

   * You should get an error saying **Access Denied** ❌ — because this user only has EC2 access.

✅ This confirms that your **permissions are restricted correctly** to EC2 only.

---

## 🔒 7. Step 5 — Secure the IAM user

1. Enable **MFA (Multi-Factor Authentication)** for this user:

   * Go to IAM → Users → `ec2-user` → **Security credentials** → **Assign MFA device**.
2. Use an authenticator app (like Google Authenticator or Authy) for better security.
3. Optionally, create **Access keys** if you want to use AWS CLI instead of the console.

---

## 🧠 8. Step 6 — Test from AWS CLI (optional)

If you installed the AWS CLI:

```bash
aws configure
```

Then enter:

```
AWS Access Key ID: <IAM user access key>
AWS Secret Access Key: <IAM user secret key>
Default region name: us-east-1
Default output format: json
```

Now you can use commands like:

```bash
aws ec2 describe-instances
```

✅ Works perfectly because the user has `AmazonEC2FullAccess`.

---

## 📋 9. Quick summary

| Step | Action              | Result                      |
| ---- | ------------------- | --------------------------- |
| 1️⃣  | Create IAM Group    | Group with EC2 Full Access  |
| 2️⃣  | Create IAM User     | Linked to that group        |
| 3️⃣  | Sign in as IAM User | No root usage               |
| 4️⃣  | Test EC2 access     | Works ✅                     |
| 5️⃣  | Test other services | Access Denied ❌             |
| 6️⃣  | Secure IAM user     | Enable MFA, least privilege |

---

## 🧭 10. Best practices

* Never use the **root account** for daily operations.
* Use **IAM groups** to manage permissions efficiently.
* Grant **least privilege** — only required permissions.
* Enable **MFA** for all users.
* Rotate **access keys** regularly if used.
* Use **AWS CloudTrail** to track activities.

---

## 🏁 Final recap

You’ve learned how to:
✅ Create an **IAM Group** with EC2-only permissions
✅ Add a **user** to that group
✅ **Login as IAM user** instead of root
✅ Verify and secure permissions

Now you can safely manage EC2 instances without exposing your main root credentials. 🔐☁️

---