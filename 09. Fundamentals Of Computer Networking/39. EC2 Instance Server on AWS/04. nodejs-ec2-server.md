

# ⚡ Install Node.js and Create a Simple HTTP Server on EC2 Ubuntu ☁️🖥️

This guide explains **how to install Node.js**, **create a project folder**, **write a simple HTTP server**, **run it using Node**, and **access it via your EC2 public IP**, step by step.

---

## 🖥️ 1. Prerequisites

Before starting, ensure:

1. You have a **running Ubuntu EC2 instance**.
2. You can **SSH into your instance** using the `.pem` key.
3. The **security group** attached to your EC2 allows **HTTP traffic (port 80 or 3000)**.

> We will run the server on **port 3000**, so open TCP port 3000 in the EC2 security group.

---

## ⚡ 2. Step 1 — Install Node.js

### a) Update Ubuntu packages

```bash
sudo apt update
sudo apt upgrade -y
```

**Explanation:**

* Ensures all existing packages are up-to-date and secure.

### b) Install Node.js and npm

```bash
sudo apt install nodejs npm -y
```

**Explanation:**

* `nodejs` → installs Node.js runtime
* `npm` → Node Package Manager, allows installing Node modules

### c) Verify installation

```bash
node -v
npm -v
```

* `node -v` → displays Node.js version
* `npm -v` → displays npm version

✅ If both commands show version numbers, Node.js is installed correctly.

---

## 📂 3. Step 2 — Create a project folder

1. Navigate to your home directory:

```bash
cd ~
```

2. Create a folder for your Node project:

```bash
mkdir my-node-server
cd my-node-server
```

**Explanation:**

* `mkdir` → make a directory
* `cd` → move into that directory
* All server files will live here

---

## 📝 4. Step 3 — Create `server.js` file

1. Use `nano` or any text editor to create the file:

```bash
nano server.js
```

2. Inside `server.js`, write a simple HTTP server:

```javascript
const http = require('http');

const hostname = '0.0.0.0'; // Listen on all IPs
const port = 3000;

const server = http.createServer((req, res) => {
    res.statusCode = 200;
    res.setHeader('Content-Type', 'text/plain');
    res.end('Hello from Node.js EC2 server!\n');
});

server.listen(port, hostname, () => {
    console.log(`Server running at http://${hostname}:${port}/`);
});
```

**Explanation:**

* `http.createServer` → creates a server that handles HTTP requests
* `hostname = 0.0.0.0` → makes the server accessible from all IP addresses (including public IP)
* `port = 3000` → server listens on port 3000
* `res.end()` → sends response back to browser or client

3. Save and exit `nano`: Press `CTRL+O` → Enter → `CTRL+X`

---

## ▶️ 5. Step 4 — Run the Node.js server

```bash
node server.js
```

**Explanation:**

* Runs the server file
* You’ll see a console message:

```
Server running at http://0.0.0.0:3000/
```

> Keep this terminal open, or use `tmux`/`screen` to run in the background.

---

## 🌐 6. Step 5 — Access the server via Public IP

1. Find your EC2 **public IP** from the AWS console.
2. Open your browser and enter:

```
http://<Public-IP>:3000
```

3. You should see:

```
Hello from Node.js EC2 server!
```

**Explanation:**

* `0.0.0.0` allows connections from any IP
* Browser sends HTTP request to EC2 public IP on port 3000
* Node.js server responds with plain text

> 🔑 Make sure your **security group allows inbound TCP traffic on port 3000**.

---

## 🛡️ 7. Optional — Run server in background

Use `nohup` to keep server running after SSH logout:

```bash
nohup node server.js &
```

* `nohup` → run command ignoring hangup signal
* `&` → run in background
* Output is saved in `nohup.out`

---

## 📋 8. Quick Recap

| Step | Command / Action                            | What Happens                     |
| ---- | ------------------------------------------- | -------------------------------- |
| 1️⃣  | `sudo apt install nodejs npm -y`            | Installs Node.js and npm         |
| 2️⃣  | `mkdir my-node-server && cd my-node-server` | Creates project folder           |
| 3️⃣  | `nano server.js`                            | Creates server file              |
| 4️⃣  | Write HTTP server code                      | Node.js listens on port 3000     |
| 5️⃣  | `node server.js`                            | Starts server                    |
| 6️⃣  | Open `http://<Public-IP>:3000`              | Access server from browser       |
| 7️⃣  | `nohup node server.js &`                    | Keep server running after logout |

---

💡 **Tips:**

* Use `pm2` or `screen` for production servers to manage Node.js processes.
* Use `0.0.0.0` in hostname to allow public access; `127.0.0.1` would be localhost-only.
* Always check **security group rules** for open ports.

---