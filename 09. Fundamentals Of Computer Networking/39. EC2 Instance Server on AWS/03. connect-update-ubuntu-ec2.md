

# ğŸ”‘ Connect to an EC2 Ubuntu Server Using `.pem` Key and Update OS ğŸ–¥ï¸â˜ï¸

This guide explains **how to securely connect to your Ubuntu EC2 instance** from a local machine using a `.pem` key, and **how to update and upgrade the OS**, with full explanation of each step and command.

---

## â˜ï¸ 1. Prerequisites

Before you start, make sure you have:

1. **EC2 instance running Ubuntu** (Free Tier works fine).
2. **Private key `.pem` file** downloaded when creating the EC2 instance.
3. **Public IP** or **Public DNS** of your EC2 instance.
4. A **terminal** (Linux/Mac) or **WSL / Git Bash / PuTTY** on Windows.

> **Important:** Keep your `.pem` file safe. Never share it.

---

## ğŸ–¥ï¸ 2. Step 1 â€” Set permissions for `.pem` key

AWS requires that your private key has **strict permissions**.
Open your terminal and run:

```bash
chmod 400 /path/to/your-key.pem
```

**Explanation:**

* `chmod` â†’ changes file permissions
* `400` â†’ read-only for owner (others cannot read/write)
* AWS will **refuse the connection** if permissions are too open. ğŸ”’

---

## ğŸ”Œ 3. Step 2 â€” Connect to the EC2 instance

Use the SSH command:

```bash
ssh -i /path/to/your-key.pem ubuntu@<Public-IP>
```

**Explanation:**

* `ssh` â†’ command to connect securely over the internet
* `-i /path/to/key.pem` â†’ specifies your private key
* `ubuntu` â†’ default username for Ubuntu EC2 instances
* `<Public-IP>` â†’ your EC2 instanceâ€™s public IPv4 address

> Tip: For Windows users with PuTTY, you need to convert `.pem` â†’ `.ppk` using **PuTTYgen**.

If successful, youâ€™ll see a prompt like:

```
Welcome to Ubuntu 22.04 LTS
ubuntu@ip-xx-xx-xx-xx:~$
```

---

## ğŸ› ï¸ 4. Step 3 â€” Update Ubuntu OS

Itâ€™s important to **update your system packages** to the latest version for security and stability.

### Step 3a â€” Update package list

```bash
sudo apt update
```

**Explanation:**

* `sudo` â†’ run command as superuser (root)
* `apt` â†’ Ubuntuâ€™s package manager
* `update` â†’ fetches the latest list of available packages and versions

> **Note:** This does **not upgrade** any packages yet.

### Step 3b â€” Upgrade installed packages

```bash
sudo apt upgrade -y
```

**Explanation:**

* `upgrade` â†’ installs the latest version of all packages currently installed
* `-y` â†’ automatically answers â€œyesâ€ to all prompts

> Now your system packages are updated safely.

### Step 3c â€” Optional: Full upgrade (handles dependencies)

```bash
sudo apt full-upgrade -y
```

**Explanation:**

* `full-upgrade` â†’ also installs/removes packages to satisfy dependencies
* Useful if you want a completely updated system without manual intervention

### Step 3d â€” Optional: Remove unused packages

```bash
sudo apt autoremove -y
```

**Explanation:**

* Removes unnecessary packages that were installed as dependencies but are no longer needed
* Helps free up disk space

---

## ğŸ“‹ 5. Step 4 â€” Verify updates

Check Ubuntu version and kernel:

```bash
lsb_release -a
uname -r
```

* `lsb_release -a` â†’ shows Ubuntu version and codename
* `uname -r` â†’ shows Linux kernel version

Check if packages are up to date:

```bash
sudo apt update
```

If everything is updated, it will say:

```
0 upgraded, 0 newly installed, 0 to remove
```

---

## âœ… 6. Quick recap

| Step | Command                                  | Purpose                             |
| ---- | ---------------------------------------- | ----------------------------------- |
| 1ï¸âƒ£  | `chmod 400 your-key.pem`                 | Secure your private key             |
| 2ï¸âƒ£  | `ssh -i your-key.pem ubuntu@<Public-IP>` | Connect to EC2 Ubuntu instance      |
| 3aï¸âƒ£ | `sudo apt update`                        | Refresh package list                |
| 3bï¸âƒ£ | `sudo apt upgrade -y`                    | Upgrade installed packages          |
| 3cï¸âƒ£ | `sudo apt full-upgrade -y`               | Full upgrade including dependencies |
| 3dï¸âƒ£ | `sudo apt autoremove -y`                 | Remove unused packages              |
| 4ï¸âƒ£  | `lsb_release -a` / `uname -r`            | Verify OS and kernel version        |

---

ğŸ’¡ **Tip:**

* Always **update Ubuntu** after launching a new instance.
* For servers exposed to the internet, updates improve **security**.
* Use `exit` to log out from the EC2 instance safely:

```bash
exit
```

---