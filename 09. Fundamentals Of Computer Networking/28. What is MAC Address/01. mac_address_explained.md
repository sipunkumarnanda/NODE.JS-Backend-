

# What is a **MAC address**? üß©

A **MAC address** (Media Access Control address) is a hardware identifier assigned to a network interface controller (NIC) for communications at the **data link layer (Layer 2)** of the OSI model. It uniquely (or intended-to-be-unique) identifies a device on a local network segment so switches and NICs can send frames to the right place. Think of IP addresses as street addresses (routing across networks) and MAC addresses as apartment numbers inside a building (local delivery). üì¨

# Format & notation üî¢

* A MAC address is most commonly **48 bits (6 bytes)** long (called **EUI-48**). There is also **EUI-64** (64 bits) used in some contexts (e.g., IPv6 auto-configuration).
* Typical representations:

  * Hex pair with colons: `00:1A:2B:3C:4D:5E`
  * Hyphen: `00-1A-2B-3C-4D-5E`
  * Cisco dot notation: `001A.2B3C.4D5E`
* Example: `00:1A:2B:3C:4D:5E` ‚Üí 6 octets = 48 bits.

# How the bits are organized ‚Äî OUI, device ID, special bits üß†

* First 3 bytes (24 bits) = **OUI** (Organizationally Unique Identifier). Assigned by IEEE to vendors. It identifies the manufacturer.
* Last 3 bytes = **NIC-specific** identifier assigned by the vendor.
* Special bits in the **first octet**:

  * **Least Significant Bit (LSB)** of first byte = **I/G bit** (Individual/Group).

    * `0` = unicast (single recipient).
    * `1` = multicast or group address.
  * **Second least significant bit** = **U/L bit** (Universal/Local).

    * `0` = globally administered (assigned by manufacturer).
    * `1` = locally administered (overridden or set by admin/OS).
* `FF:FF:FF:FF:FF:FF` is the **broadcast address** (sent to all hosts on the LAN).

# How MAC addresses are used in networking üîó

* **Switch forwarding / MAC learning:** Switches build a MAC table (CAM table) mapping MAC ‚Üí port by observing source MACs of incoming frames. Frames destined for a learned MAC are forwarded only to that port; unknown destinations are flooded.
* **Frame delivery:** Ethernet frames use source and destination MAC addresses to deliver Layer 2 payloads.
* **ARP (IPv4):** Address Resolution Protocol resolves an IPv4 address ‚Üí MAC address (ARP request broadcast, ARP reply unicast).
* **IPv6:** Neighbor Discovery Protocol (NDP) serves a similar purpose. Historically EUI-64 could embed MAC into IPv6 interface ID, but privacy extensions often avoid this.
* **VLANs, bridging, tunneling:** MAC addresses are used by bridges and switches inside each L2 domain. Routers do not forward raw MACs across different L2 domains.

# EUI-64 and IPv6 note üõ∞Ô∏è

To form a 64-bit interface identifier from a 48-bit MAC (EUI-64):

1. Split MAC: `AA:BB:CC:DD:EE:FF` ‚Üí `AA:BB:CC` + `DD:EE:FF`
2. Insert `FF:FE` in the middle ‚Üí `AA:BB:CC:FF:FE:DD:EE:FF`
3. Flip the U/L bit (the second-least significant bit of the first octet).
   Modern OSes however use random/temporary IPv6 interface IDs for privacy.

# MAC vs IP ‚Äî quick comparison üÜö

* **Layer:** MAC = Layer 2; IP = Layer 3 (network).
* **Scope:** MAC is local to the broadcast domain (LAN); IP is routable across networks.
* **Changeability:** MACs are intended to be permanent but can be spoofed/changed. IPs are assigned/configured and typically change when you change networks.
* **Function:** MAC identifies hardware endpoints for frame delivery; IP identifies logical hosts for routing.

# Viewing & changing a MAC (common commands) üñ•Ô∏è

**View MAC**

* Linux:

  ```bash
  ip link show
  # or
  cat /sys/class/net/<interface>/address
  ```
* macOS:

  ```bash
  ifconfig en0 | grep ether
  ```
* Windows:

  ```
  ipconfig /all
  getmac /v /fo list
  ```
* Many mobile devices show a Wi-Fi MAC in Settings ‚Üí About / Network; modern phones may report randomized MACs per network.

**Temporarily change (spoof) MAC**

* Linux (temporary; requires root):

  ```bash
  sudo ip link set dev eth0 down
  sudo ip link set dev eth0 address 00:11:22:33:44:55
  sudo ip link set dev eth0 up
  ```
* macOS (temporary until reboot):

  ```bash
  sudo ifconfig en0 ether 00:11:22:33:44:55
  ```
* Windows: often changed via Device Manager ‚Üí Network adapter ‚Üí Advanced tab ‚Üí "Network Address" or via vendor driver/registry. (Method varies by adapter/driver.)

> Note: Changing MAC may break network access if the network uses MAC-based filtering or licensing.

# Security & privacy considerations üîê

* **MAC spoofing:** Easy to do; attackers can impersonate another device by changing their MAC. Therefore MAC filtering is **not** a strong security control by itself.
* **MAC flooding / CAM table attacks:** An attacker can flood a switch with fake MACs to force it into fail-open (flooding) mode, enabling sniffing of traffic.
* **Tracking & privacy:** Wi-Fi probe requests include device MAC; this enables tracking across locations. Modern OSs implement **MAC randomization** (random MAC per-SSID or per-packet) to mitigate tracking.
* **Network access control:** Systems like 802.1X that use authentication are far more robust than simple MAC-based access lists.

# Common real-world uses ‚úîÔ∏è

* DHCP servers often log MACs to assign fixed IPs (DHCP reservation).
* Asset inventories use MACs to identify devices.
* Virtual machines and containers set virtual MACs for virtual NICs.
* Some license systems bind software license to a NIC‚Äôs MAC (fragile and spoofable).

# Troubleshooting tips üõ†Ô∏è

* If two devices have the **same MAC** on the same LAN, frames may go to the wrong machine ‚Äî symptoms: intermittent connectivity, wrong machine receiving traffic.
* If ARP problems occur, check ARP cache (`arp -a`) and look for duplicate entries.
* If switch shows flapping MAC on multiple ports, suspect duplicate MACs or a bridging loop.
* Use packet capture (tcpdump/Wireshark) to inspect source/destination MACs on the wire.

# Short FAQ (quick answers) ‚ùì

* **Are MAC addresses globally unique?** Intended to be, via vendor OUIs, but duplicates happen (cloning, misconfigured devices).
* **Does my MAC travel across the Internet?** No ‚Äî routers forward packets by IP; MAC is only used within each Layer-2 domain except when tunneling keeps the original L2 inside a tunnel.
* **Is MAC filtering secure?** No. It's a basic control but easily bypassed by spoofing.

# Cheat-sheet ‚Äî Key facts (one glance) üìå

* Length: usually **48 bits** (6 bytes).
* Format: `00:1A:2B:3C:4D:5E`.
* OUI = first 3 bytes ‚Üí vendor.
* `FF:FF:FF:FF:FF:FF` = broadcast.
* LSB of first octet = multicast (1) / unicast (0).
* 2nd LSB of first octet = U/L bit (1 = locally administered).

# Final notes & best practices ‚úÖ

* Use MACs for **local delivery**, not as a security boundary.
* Prefer strong authentication (802.1X, WPA2/WPA3, TLS) over MAC filtering.
* Be mindful of privacy ‚Äî modern devices randomize MACs for Wi-Fi scanning and may use per-network randomized MACs. üåêüîí

---