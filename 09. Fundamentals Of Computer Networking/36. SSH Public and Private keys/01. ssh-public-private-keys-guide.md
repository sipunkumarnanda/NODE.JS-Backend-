

# ğŸ” SSH Public and Private Keys â€” Complete Guide

---

## ğŸŒ What is SSH?

**SSH (Secure Shell)** is a protocol used to securely connect to remote systems â€” such as servers or network devices â€” over an encrypted channel.
It protects against eavesdropping and tampering by encrypting all communication.

You often use SSH to:

* ğŸ’» Log into remote servers (`ssh user@host`)
* ğŸ“ Copy files (`scp`, `sftp`)
* âš™ï¸ Automate tasks securely

---

## ğŸ—ï¸ SSH Keys â€” The Core Idea

Instead of typing a password every time you connect, **SSH key-based authentication** uses a pair of cryptographic keys:

1. **Public Key** ğŸ”“
2. **Private Key** ğŸ”’

These two keys are mathematically linked â€” what one encrypts, the other can decrypt â€” but the private key cannot be derived from the public one.

---

## ğŸ”“ The Public Key

**What it is:**

* The public part of your SSH key pair.
* Safe to share with others (e.g., servers you want to access).
* Stored on the **remote server** in the file:

  ```
  ~/.ssh/authorized_keys
  ```

**Purpose:**
When you try to connect, the server uses your public key to create a challenge that only your private key can solve.

**Example (looks like this):**

```
ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAICxZ6... user@machine
```

---

## ğŸ”’ The Private Key

**What it is:**

* The secret part of your SSH key pair â€” **never share it!**
* Stored securely on your **local machine**, usually at:

  ```
  ~/.ssh/id_ed25519
  ```
* Protected with file permissions (`chmod 600`) and optionally with a passphrase.

**Purpose:**
It proves your identity during authentication by decrypting the serverâ€™s challenge.

If someone gains access to your private key, they can log in to servers as you â€” so protect it carefully! ğŸ›‘

---

## âš™ï¸ How SSH Key Authentication Works (Step-by-Step)

1. ğŸ§© **Key generation:** You generate a key pair using `ssh-keygen`.
2. ğŸ“¤ **Public key placement:** You copy the public key to the remote server (`~/.ssh/authorized_keys`).
3. ğŸ” **Connection attempt:** You run `ssh user@server`.
4. ğŸ§® **Challenge-response:**

   * The server sends a random challenge encrypted with your public key.
   * Your client decrypts it using your private key.
5. âœ… **Verification:**

   * If decryption is successful, authentication passes â€” no password needed!

All this happens securely inside the SSH protocol.

---

## ğŸ§° How to Generate SSH Keys

### Linux/macOS:

```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

*(Use RSA if needed: `-t rsa -b 4096`)*

This creates:

* `~/.ssh/id_ed25519` â†’ ğŸ”’ Private key
* `~/.ssh/id_ed25519.pub` â†’ ğŸ”“ Public key

### Windows (PowerShell):

```powershell
ssh-keygen -t ed25519 -C "your_email@example.com"
```

---

## ğŸš€ Using Your SSH Key

### Copy public key to a remote server:

```bash
ssh-copy-id -i ~/.ssh/id_ed25519.pub user@remotehost
```

Or manually append the key to:

```
~/.ssh/authorized_keys
```

### Connect using key authentication:

```bash
ssh -i ~/.ssh/id_ed25519 user@remotehost
```

---

## ğŸ§¾ Common SSH Key Types

| Key Type           | Description                                 | Recommended?                     |
| ------------------ | ------------------------------------------- | -------------------------------- |
| **ED25519**        | Modern, fast, strong curve cryptography     | âœ… Yes                            |
| **RSA (4096-bit)** | Classic and widely supported                | âœ… Yes (if ED25519 not supported) |
| **ECDSA**          | Efficient but can have compatibility issues | âš ï¸ Use with care                 |
| **DSA**            | Deprecated, insecure                        | âŒ Avoid                          |

---

## ğŸ›¡ï¸ Security Best Practices

* ğŸ”‘ Always use a **passphrase** for your private key.
* ğŸ”’ Set file permissions:

  ```bash
  chmod 700 ~/.ssh
  chmod 600 ~/.ssh/id_*
  ```
* ğŸ§° Use **ssh-agent** to securely store and reuse decrypted keys in memory.
* ğŸš« Never email or upload your private key.
* ğŸ” Rotate your keys periodically.
* ğŸ§± Disable password authentication on servers (`PasswordAuthentication no` in `/etc/ssh/sshd_config`).

---

## âš¡ Bonus: Quick Verification

* View public key fingerprint:

  ```bash
  ssh-keygen -lf ~/.ssh/id_ed25519.pub
  ```
* Test key-based login:

  ```bash
  ssh -v user@server
  ```

  (Add `-v` for verbose output to debug issues.)

---

## ğŸ“˜ TL;DR â€” Quick Summary

* SSH keys replace passwords for secure, automated authentication.
* They come in **pairs** â€” public (share) and private (keep secret).
* Store the public key on the server, keep the private key on your computer.
* Use `ssh-keygen` to create, `ssh-copy-id` to deploy, and `ssh` to connect.
* Always protect private keys with permissions and passphrases. ğŸ”

---